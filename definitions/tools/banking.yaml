tools:
  - name: banking.core_get_balance
    type: http
    method: GET
    url: "http://localhost:9000/mock/core/balance?accountId={{ .accountId }}"
    headers:
      Authorization: "Bearer {{ env \"API_KEY\" }}"
    mode: read
    timeout: 3000

  - name: banking.core_get_credit_card_balance
    type: http
    method: GET
    url: "http://localhost:9000/mock/core/creditcard?cardId={{ .cardId }}"
    headers:
      Authorization: "Bearer {{ env \"API_KEY\" }}"
    mode: read
    timeout: 3000

  - name: banking.core_get_movements
    type: http
    method: GET
    url: "http://localhost:9000/mock/core/movements?accountId={{ .accountId }}&from={{ .from }}&to={{ .to }}"
    headers:
      Authorization: "Bearer {{ env \"API_KEY\" }}"
    mode: read
    timeout: 5000

  - name: banking.aml_risk_check
    type: http
    method: POST
    url: "http://localhost:9000/mock/aml/check"
    headers:
      Authorization: "Bearer {{ env \"API_KEY\" }}"
    mode: read
    timeout: 4000
    body:
      phone: "{{ .toPhone }}"
      amount: "{{ .amount }}"

  - name: banking.payments_bizum_send
    type: http
    method: POST
    url: "http://localhost:9000/mock/payments/bizum"
    headers:
      Authorization: "Bearer {{ env \"API_KEY\" }}"
    mode: dangerous
    timeout: 5000
    body:
      from: "{{ .fromPhone }}"
      to: "{{ .toPhone }}"
      amount: "{{ .amount }}"
      concept: "{{ .concept }}"
  
  - name: banking.send_notification
    type: http
    method: POST
    url: "http://localhost:9000/mock/notifications/send"
    headers:
      Authorization: "Bearer {{ env \"API_KEY\" }}"
    mode: write
    timeout: 3000
    body:
      user: "{{ .fromPhone }}"
      message: "Se ha enviado un Bizum de {{ .amount }} a {{ .toPhone }}"
